# ===========================================
# ENVIRONMENT CONFIGURATION
# ===========================================
# Copy this file to .env and fill in the values
# IMPORTANT: Never commit .env to version control!

# ===========================================
# APPLICATION
# ===========================================
NODE_ENV=development
PORT=5000

# ===========================================
# DATABASE
# ===========================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://invoiceuser:devpassword@db:5432/invoices

# Database initialization
# Set to 'true' to skip automatic database seeding on startup
SKIP_DB_INIT=false

# ===========================================
# REDIS (Session & Cache)
# ===========================================
REDIS_URL=redis://redis:6379

# ===========================================
# SECURITY
# ===========================================
# JWT secret for authentication tokens (CHANGE THIS IN PRODUCTION!)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this

# JWT expiration time
JWT_EXPIRES_IN=24h

# ===========================================
# FRONTEND
# ===========================================
# Frontend URL for CORS configuration
FRONTEND_URL=http://localhost:3000

# ===========================================
# EMAIL (SMTP)
# ===========================================
# SMTP server configuration for sending emails
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-email-password
FROM_EMAIL=noreply@monomi.finance
FROM_NAME=Monomi Invoice System

# ===========================================
# INDONESIAN BUSINESS SETTINGS
# ===========================================
# Materai (stamp duty) threshold in IDR
MATERAI_THRESHOLD=5000000

# Default tax rate (PPN - Indonesian VAT)
DEFAULT_TAX_RATE=11

# ===========================================
# FILE STORAGE
# ===========================================
# Upload and storage paths (relative to app root)
UPLOAD_PATH=./uploads
STORAGE_PATH=./storage

# Maximum file upload size in bytes (10MB default)
MAX_FILE_SIZE=10485760

# ===========================================
# CLOUDFLARE R2 STORAGE (For Content Planning Calendar & PDF Reports)
# ===========================================
# Cloudflare R2 configuration for media storage and PDF reports
# Get these from: https://dash.cloudflare.com -> R2 -> Manage R2 API Tokens
R2_ACCOUNT_ID=209896b6231b1f8246620be3ab526b3f
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
R2_BUCKET_NAME=monomi-finance
R2_PUBLIC_URL=https://209896b6231b1f8246620be3ab526b3f.r2.cloudflarestorage.com
R2_ENDPOINT=https://209896b6231b1f8246620be3ab526b3f.r2.cloudflarestorage.com

# Maximum media file size in MB (default: 100MB for images/videos, PDFs can be larger)
MAX_FILE_SIZE_MB=100

# ===========================================
# PDF GENERATION
# ===========================================
# Puppeteer configuration
PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium-browser
PUPPETEER_TIMEOUT=30000

# ===========================================
# RATE LIMITING
# ===========================================
# Throttle configuration (requests per TTL window)
THROTTLE_TTL=60000
THROTTLE_LIMIT=100

# ===========================================
# LOGGING
# ===========================================
# Log level: error, warn, log, debug, verbose
LOG_LEVEL=debug

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# ===========================================
# FEATURE FLAGS
# ===========================================
# Enable/disable features
ENABLE_METRICS=true
ENABLE_SWAGGER=true
ENABLE_AUDIT_LOG=true

# ===========================================
# DEVELOPMENT ONLY
# ===========================================
# Enable debug mode (DO NOT USE IN PRODUCTION)
DEBUG=false

# Disable authentication for testing (DANGEROUS - DEV ONLY)
DISABLE_AUTH=false
