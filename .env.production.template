# Production Environment Variables Template
# Copy this file to .env.production and fill in your actual values

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Generate a strong password: openssl rand -base64 32
DB_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD

# Database connection (don't change unless you know what you're doing)
DATABASE_URL="postgresql://invoiceuser:${DB_PASSWORD}@db:5432/invoices?schema=public"
POSTGRES_USER=invoiceuser
POSTGRES_DB=invoices

# ============================================
# REDIS CONFIGURATION
# ============================================
# Generate a strong password: openssl rand -base64 32
REDIS_PASSWORD=CHANGE_THIS_TO_STRONG_REDIS_PASSWORD
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379

# ============================================
# JWT AUTHENTICATION
# ============================================
# Generate JWT secret: openssl rand -hex 32
JWT_SECRET=CHANGE_THIS_TO_RANDOM_HEX_STRING
JWT_EXPIRES_IN=24h

# ============================================
# APPLICATION CONFIGURATION
# ============================================
NODE_ENV=production
PORT=5000

# IMPORTANT: Replace with your actual VPS IP or domain
# Examples:
#   - IP: http://103.xxx.xxx.xxx
#   - Domain: https://invoice.your-domain.com
FRONTEND_URL=http://YOUR_VPS_IP_HERE
CORS_ORIGIN=http://YOUR_VPS_IP_HERE

# ============================================
# EMAIL CONFIGURATION (SMTP)
# ============================================
# Gmail SMTP example (requires App Password, not regular password):
# 1. Go to Google Account → Security → 2-Step Verification
# 2. At bottom, select "App passwords"
# 3. Generate password for "Mail"
# 4. Use that 16-character password below

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password-here
FROM_EMAIL=noreply@your-domain.com
FROM_NAME="Monomi Business System"

# Alternative SMTP Providers:
# ---------------------------
# SendGrid:
#   SMTP_HOST=smtp.sendgrid.net
#   SMTP_PORT=587
#   SMTP_USER=apikey
#   SMTP_PASSWORD=your-sendgrid-api-key

# Mailgun:
#   SMTP_HOST=smtp.mailgun.org
#   SMTP_PORT=587
#   SMTP_USER=postmaster@your-domain.mailgun.org
#   SMTP_PASSWORD=your-mailgun-password

# Amazon SES:
#   SMTP_HOST=email-smtp.us-east-1.amazonaws.com
#   SMTP_PORT=587
#   SMTP_USER=your-ses-smtp-username
#   SMTP_PASSWORD=your-ses-smtp-password

# ============================================
# SECURITY SETTINGS
# ============================================
RATE_LIMIT_TTL=60000
RATE_LIMIT_MAX=100

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=info
LOG_FORMAT=json

# ============================================
# FILE UPLOAD
# ============================================
MAX_FILE_SIZE=10485760
UPLOAD_PATH=/app/uploads

# ============================================
# PDF GENERATION
# ============================================
PDF_TIMEOUT=30000
PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium-browser

# ============================================
# HEALTH CHECK
# ============================================
HEALTH_CHECK_TIMEOUT=5000

# ============================================
# MONITORING (Optional)
# ============================================
ENABLE_METRICS=true
METRICS_PORT=9090

# ============================================
# INSTRUCTIONS
# ============================================
# 1. Copy this file:
#    cp .env.production.template .env.production
#
# 2. Generate secure passwords:
#    openssl rand -base64 32  # For DB_PASSWORD
#    openssl rand -base64 32  # For REDIS_PASSWORD
#    openssl rand -hex 32     # For JWT_SECRET
#
# 3. Replace all CHANGE_THIS and YOUR_VPS_IP values
#
# 4. Set proper permissions:
#    chmod 600 .env.production
#
# 5. Deploy:
#    ./scripts/deploy.sh
